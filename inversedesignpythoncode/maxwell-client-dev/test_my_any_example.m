%%
% 测试麦克斯韦方程组求解功能，网格大小100nm，均在2D情况下测试（FDFD本地求解）

% [E, H, grid, eps] = example0_waveguide('flatten', true);

% [E, H, grid, eps] = example1_ring('flatten', true);

% [omega, E, H, grid, eps] = example2_metalmode('flatten', true);

% [omega, E, H, grid, eps] = example3_cavitymode('L3', 'flatten', true);
% [omega, E, H, grid, eps] = example3_cavitymode('L3_sic', 'flatten', true);
% [omega, E, H, grid, eps] = example3_cavitymode('beam', 'flatten', true);

% [E, H, grid, eps] = example4_focusedbeam('gaussian', 'flatten', true);
% [E, H, grid, eps] = example4_focusedbeam('donut', 'flatten', true);

% [omega, E, H, grid, eps] = example5_hiresmetal('flatten', true);

% 测试给定结构，采用不同优化方法优化功能

% [gap, radius, P] = maxopt_example0_sweep('flatten', true);

% [x0, fval, f_vis] = maxopt_example1_search('flatten', true);
% case_name = 'grating';

% [x, fval, f_vis] = maxopt_example2_adjoint('squarepc', 'flatten', true);
% [x, fval, f_vis] = maxopt_example2_adjoint('2wbeam', 'flatten', true);
% [x, fval, f_vis] = maxopt_example2_adjoint('2wbeam_eig', 'flatten', true);
% [x, fval, f_vis] = maxopt_example2_adjoint('wdmgrating', 'flatten', true);

% [fval, x, f_vis] = maxopt_example3_eigenmode('flatten', true);
% case_name = 'L3';







